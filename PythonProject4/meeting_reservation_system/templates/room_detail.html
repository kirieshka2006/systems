<!DOCTYPE html>
<html>
<head>
    <title>{{ room.name }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #e0e0e0;
            min-height: 100vh;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: #2d2d2d;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border: 1px solid #404040;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 12px 20px;
            text-decoration: none;
            border-radius: 8px;
            display: inline-block;
            margin: 5px;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 14px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-back {
            background: #6c757d;
        }
        .btn-back:hover {
            background: #5a6268;
        }
        .btn-book {
            background: #28a745;
            font-weight: bold;
        }
        .btn-book:hover {
            background: #218838;
        }
        h1 {
            color: #ffffff;
            border-bottom: 2px solid #404040;
            padding-bottom: 15px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            margin-left: 5px;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 180px;
            background: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -90px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .room-info {
            background: #3a3a3a;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #555;
        }
        .info-item {
            margin: 15px 0;
            padding: 10px;
            background: #2d2d2d;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .equipment-full-text {
            white-space: pre-line;    /* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ */
            word-wrap: break-word;    /* –ü–µ—Ä–µ–Ω–æ—Å –¥–ª–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤ */
            line-height: 1.5;
            margin-top: 5px;
            padding: 8px;
            background: #3a3a3a;
            border-radius: 6px;
            border-left: 3px solid #007bff;
        }

        /* –£–ª—É—á—à–∞–µ–º –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ info-item */
        .info-item {
            margin: 15px 0;
            padding: 10px;
            background: #2d2d2d;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>
            üö™ {{ room.name }}
            <span class="tooltip">
                ‚ÑπÔ∏è
                <span class="tooltiptext">–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ</span>
            </span>
        </h1>

            <!-- –§–û–¢–ö–ê –°–†–ê–ó–£ –ü–û–î –ó–ê–ì–û–õ–û–í–ö–û–ú -->
    {% if room.image %}
    <div style="text-align: center; margin: 0 0 25px 0;">
        <img src="{{ room.image.url }}" alt="{{ room.name }}" style="max-width: 100%; max-height: 600px; border-radius: 10px; border: 1px solid #555; object-fit: cover;">
    </div>
    {% endif %}

    <div class="room-info">
        <div class="info-item">
            <strong>üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:</strong> {{ room.location }}
        </div>
        <div class="info-item">
            <strong>üë• –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:</strong> {{ room.capacity }} —á–µ–ª–æ–≤–µ–∫
        </div>
        <div class="info-item">
            <strong>üéØ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong>
            {% if room.category == 'economy' %}üü¢ –≠–∫–æ–Ω–æ–º
            {% elif room.category == 'standard' %}üîµ –°—Ç–∞–Ω–¥–∞—Ä—Ç
            {% elif room.category == 'comfort' %}üü° –ö–æ–º—Ñ–æ—Ä—Ç
            {% elif room.category == 'vip' %}üü£ VIP
            {% elif room.category == 'luxury' %}üî¥ –õ—é–∫—Å
            {% endif %}
        </div>

        {% if user.is_authenticated and user.role in 'admin manager' %}
        <div class="info-item">
            <strong>üìä –°—Ç–∞—Ç—É—Å:</strong>
            <span style="color: {% if room.status == 'active' %}#28a745{% else %}#dc3545{% endif %};">
                {{ room.get_status_display }}
            </span>
        </div>
        {% endif %}

        <div class="info-item">
            <strong>üõ† –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:</strong>
            <div class="equipment-full-text">{{ room.equipment|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
        </div>

        <div class="info-item">
            <strong>üí∞ –¶–µ–Ω–∞:</strong> {{ room.price_per_hour }} —Ä—É–±/—á–∞—Å
        </div>
    </div>



        <div class="actions">
            {% if user.is_authenticated %}
                <button class="btn btn-book">
                    üìÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –∫–æ–º–Ω–∞—Ç—É
                    <span class="tooltip">
                        (?)
                        <span class="tooltiptext">–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
                    </span>
                </button>
            {% else %}
                <div style="background: #dc3545; padding: 15px; border-radius: 8px; text-align: center;">
                    ‚ùå <a href="{% url 'login' %}" style="color: white; text-decoration: underline;">–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</a> —á—Ç–æ–±—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
                    <span class="tooltip">
                        (?)
                        <span class="tooltiptext">–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
                    </span>
                </div>
            {% endif %}
            <a href="{% url 'home' %}" class="btn btn-back">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–æ–º–Ω–∞—Ç</a>
        </div>
    </div>
</body>
</html>